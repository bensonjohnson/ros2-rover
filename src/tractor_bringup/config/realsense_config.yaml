# Intel RealSense D435i Optimized Configuration
# This configuration is optimized for outdoor agricultural use
# with stable power supply and autonomous navigation

# Camera naming and namespacing
camera_name: "camera"
camera_namespace: "camera"

# Core features
enable_sync: true
enable_pointcloud: true
pointcloud.enable: true
align_depth.enable: true

# Depth camera settings - optimized for outdoor use
depth_module.enable: true
depth_module.depth_profile: "424x240x15" # Lowered resolution and FPS
depth_module.enable_auto_exposure: true
depth_module.auto_exposure_limit: 100000
depth_module.emitter_enabled: 0 # Disabled for outdoor use
depth_module.laser_power: 150 # Note: Emitter is disabled, so this might not have an effect.
depth_module.accuracy: 2

# RGB camera settings
rgb_camera.enable: true
rgb_camera.color_profile: "424x240x15" # Lowered resolution and FPS
rgb_camera.enable_auto_exposure: true
rgb_camera.auto_exposure_limit: 100000
rgb_camera.brightness: 0
rgb_camera.contrast: 50
rgb_camera.gamma: 300
rgb_camera.saturation: 64

# IMU settings - high frequency for better localization
enable_gyro: true
enable_accel: true
gyro_fps: 200
accel_fps: 250
unite_imu_method: "linear_interpolation"
hold_back_imu_for_frames: true

# Disable infrared cameras to reduce USB bandwidth
enable_infra1: false
enable_infra2: false

# Clip distance for outdoor use
clip_distance: 8.0

# IMU covariance settings
linear_accel_cov: 0.01
angular_velocity_cov: 0.01

# Quality settings
decimation_filter.enable: false
temporal_filter.enable: false
spatial_filter.enable: false
hole_filling_filter.enable: false
disparity_filter.enable: false

# Performance settings
publish_tf: true
tf_publish_rate: 30.0